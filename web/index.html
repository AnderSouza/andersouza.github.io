<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Aldrich&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/6233681c4e.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="css/magic.min.css" />
  <link rel="stylesheet" type="text/css" href="css/styles.css" />
  <title>Anderson Souza</title>
</head>

<body>

  <main>
    <section class="presentation-section ">

      <header>
        <div class="social-links">
          <div class="social github magictime ">
            <i class="fab fa-github"></i>
          </div>
          <div class="social linkedin magictime ">
            <i class="fab fa-linkedin-in"></i>
          </div>
        </div>
      </header>

      <div class="presentation-content">
        <div class="profile">
          <div class="card magictime ">
            <figure class="profile-picture magictime vanishIn">
              <img src="img/cartoon.png">
            </figure>

            <div class="magictime ">
              <div class="name"><span>Anderson</span> <span>Souza</span> </div>
              <div class="occupation ">
                <div class="occupation-first-word hidden magictime ">Desenvolvedor</div>
                <div class="occupation-second-word hidden magictime">Web</div>
              </div>
            </div>
          </div>
          <section class="skills">
            <a href="./experience.html" class="golden-link   magictime ">EXPERIÊNCIA</a>
            <a href="./education.html" class="golden-link   magictime ">FORMAÇÃO</a>
            <a href="./web-basics.html" class="golden-link   magictime ">FUNDAMENTOS</a>
          </section>
        </div>
      </div>
    </section>
    </div>
  </main>

  <script>
    const elements = document.querySelectorAll('section .wrapper article');
    const headers = document.querySelectorAll('section h1 > span')

    let putEffect = (effect) => (entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting && !entry.target.classList.contains('magictime')) {
          entry.target.classList.add('magictime')
          entry.target.classList.add('x2-effect')
          entry.target.classList.add(effect)

        }
      });
    };

    let removeEffect = (effect) => (entries, observer) => {
      entries.forEach(entry => {
        if (!entry.isIntersecting && entry.target.classList.contains('magictime')) {
          entry.target.classList.add('x2-effect')
          entry.target.classList.remove(effect)
        }
      })

    }

    const observerFactory = (callback, effect) =>
      new IntersectionObserver(putEffect(effect), { threshold: 0.01 })

    for (let element of elements) {
      observerFactory(putEffect, 'vanishIn').observe(element)
      observerFactory(removeEffect, 'vanishIn').observe(element)
    }

    for (let header of headers) {
      observerFactory(putEffect, 'vanishIn').observe(header)
      observerFactory(removeEffect, 'vanishIn').observe(header)
    }

    setTimeout(() => {
      const element = document.querySelector('.occupation-first-word')
      element.classList.remove('hidden')
      element.classList.add('perspectiveUpReturn')
    }, 1375)

    setTimeout(() => {
      const element = document.querySelector('.occupation-second-word')
      element.classList.remove('hidden')
      element.classList.add('perspectiveUpReturn')
    }, 2125)


  </script>

</body>

</html>